# Usage: docker compose -f docker-compose.yml -f docker-compose.staging.yml up
services:
  api-server:
    environment:
      - REQUIRE_AUTH=true
      - RATE_LIMIT_PER_MINUTE=30
      - RUST_LOG_FORMAT=json
      - RUST_LOG=info
    deploy:
      resources:
        limits:
          cpus: "2"
          memory: 2G

  signal-models:
    deploy:
      resources:
        limits:
          cpus: "1"
          memory: 1G

  redis:
    deploy:
      resources:
        limits:
          cpus: "0.5"
          memory: 512M
